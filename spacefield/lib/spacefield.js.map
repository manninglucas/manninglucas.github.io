{"version":3,"sources":["../src/spacefield.js"],"names":[],"mappings":"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","file":"spacefield.js","sourcesContent":["//Spacefield by Lucas Manning\n//\n//This creates a 'traveling-through-space' effect that can be angled\n//with the mouse. There is also a lightspeed mode\n//\n// TODO: Everything\n\nclass Star {\n    constructor(canvasWidth, canvasHeight, context, speed) {\n        this.ctx = context;\n        this.x = Math.floor(Math.random() * canvasWidth);\n        this.y = Math.floor(Math.random() * canvasHeight);\n        this.z = Math.random()*0.01;\n        this.speed = speed;\n        this.radius = 1;\n    }\n    \n    translate() {\n        this.x += this.z*(this.x - (canvas.width / 2));\n        this.y += this.z*(this.y - (canvas.height / 2));\n        this.radius = this.z*Math.sqrt(Math.pow((this.x - canvas.width / 2),2)+\n            Math.pow((this.y - canvas.height / 2),2));\n    }   \n}\n\nfunction draw() {\n    ctx.fillStyle = 'black';\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n    for (let i = 0; i < stars.length; i++) {\n        let star = stars[i];\n\n        ctx.beginPath();\n        ctx.arc(star.x, star.y, star.radius, 0, Math.PI*2, true);\n        ctx.closePath();\n        ctx.fillStyle = 'white';\n        ctx.fill();\n    }\n}\n\nfunction update() {\n    for (let i = 0; i < stars.length; i++) {\n        let star = stars[i];\n        star.translate();\n        if ((star.x > canvas.width || star.x < 0) || \n            (star.y > canvas.height || star.y < 0)) {\n                stars.splice(i, 1);\n                stars.push(new Star(canvas.width,canvas.height, ctx, 0));              \n        }\n    }\n}\n\nfunction animate(dt) {\n    setTimeout(() => {\n        draw();\n        update();\n        \n        window.requestAnimationFrame(animate);\n    }, 1000 / 60);\n}\n\nfunction init() {  \n    for (let i = 0; i < 300; ++i) {\n        let s = new Star(canvas.width,canvas.height, ctx, 20);\n        stars.push(s);\n    }    \n    window.requestAnimationFrame(animate);  \n}\n\nlet canvas = document.getElementById('spacefield');\nlet ctx = canvas.getContext('2d');\nlet stars = [];\n\ninit();\n\n"]}